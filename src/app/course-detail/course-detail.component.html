<app-menu *ngIf="auth.loggedIn()"></app-menu>
<div class="courses_container full">
	<section class="left_grid">
		<div class="bg_white info_block shadow_flat relative_pos mr_bottom_16">
			<div class="tr_0 h_32">
				<div class="mr_12 size_32 relative_pos">
					<button class="options_button hover_black size_32 text_align_center circle">
						<img class="icon v_align_middle" src="assets/icons/dots-vertical_white.png">
					</button>
					<div class="hidden_options">
						<div class="bg_white pd_bottom_8 pd_top_8 shadow_flat border_radius font_normal" *ngIf="course.user != undefined">
							<p class="pd_8 pd_left_16 pd_right_16 hover_black" (click)="suscribeCourse(!isSuscribed())">
								<span *ngIf="isSuscribed()">
									Inscribirse
								</span>
								<span *ngIf="!isSuscribed()">
									Cancelar Inscripción
								</span>
							</p>
							<div *ngIf="course.user.id == auth.getUser()._id">
								<p class="pd_8 pd_left_16 pd_right_16 hover_black" >
									Editar
								</p>
								<p class="pd_8 pd_left_16 pd_right_16 hover_black" >
									Agregar grupos
								</p>
								<p class="pd_8 pd_left_16 pd_right_16 font_red hover_black">
									Eliminar
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="profile_display mini">
				<div class="background" [ngStyle]="{ 'background-color': course.color }">
				</div>
				<div class="profile_photo">
					<div class="list_element">
						<div class="ref">
							<span class="circle bg_opacity_light font_white">
								<label class="title_smaller font_light size_24" *ngIf="course.name != undefined">{{ course.name.charAt(0) }}</label>
							</span>
						</div><div class="info font_white">
							<div class="pd_16">
								<h3 class="font_normal mr_bottom_4">
									{{ course.name }}
								</h3>
								<p class="opacity">
									<b class="font_normal">Creado el {{ course.createdDate | formatDate }}</b>
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="inner_info">
				<div class="pd_12 pd_top_16 font_white">
					<div class="tags_container">
						<div class="auto_col" *ngFor="let tag of course.tags">
							<span class="bg_blue tag">
								{{ tag }}
							</span>
						</div>
					</div>
				</div>
				<div class="pd_16 pd_top_0">
					<h4 class="font_big font_normal opacity">Descripción</h4>
					<p class="pd_top_8 pd_left_12 pd_right_12">{{ course.description }}</p>
				</div>
				<div class="list_element" *ngIf="course.user != undefined">
					<div class="pd_left_12 pd_right_12 opacity">
						<b>Creado por:</b>
					</div>
					<div class="ref">
						<a href="/perfil/{{ course.user.id }}">
							<div class="img_container circle">
								<img [src]="course.user.profilePhoto != undefined && course.user.profilePhoto != null ? '/media/'+course.user.id+'/profile/'+course.user.profilePhoto : 'assets/icons/default_profile.png'">
							</div>
						</a>
					</div><div class="info">
						<div class="pd_16">
							<h3 class="font_normal mr_bottom_4">
								{{ course.user.name }} {{ course.user.lastName }}
							</h3>
							<p class="opacity">
								<b class="font_normal">{{ course.user.mail }}</b>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section><section class="right_grid">
		<div class="course_navigation font_secondary mr_bottom_16">
			<nav class="pd_12 title_smaller auto_col cursor_pointer" [ngClass]="{'border_bottom_primary': displayedList == 0 }" (click)="displayedList = 0">
				Contenidos
			</nav><nav class="pd_12 title_smaller auto_col cursor_pointer" [ngClass]="{'border_bottom_primary': displayedList == 1 }" (click)="displayedList = 1">
				Actividades
			</nav><nav class="pd_12 title_smaller auto_col cursor_pointer" [ngClass]="{'border_bottom_primary': displayedList == 2 }" (click)="displayedList = 2">
				Miembros
			</nav>
		</div>
		<div class="list">
			<div class="" [hidden]="displayedList != 0">
				
			</div>
			<div class="" [hidden]="displayedList != 1">
				
			</div>
			<div class="" [hidden]="displayedList != 2">
				<div class="pd_32" *ngIf="course.members?.length < 1">
					<h2 class="title_big font_light opacity">
						Ningun miembro por el momento
					</h2>
				</div>
				<div class="responsive_col resp_list text_align_center" *ngIf="course.members != undefined && course.members?.length > 0">
					<div class="col_2 text_align_left" *ngFor="let member of course.members">
						<div class="bg_white resp_item shadow_flat border_radius mr_bottom_12 relative_pos">
							<div class="tr_0 h_32">
								<div class="mr_12 size_32 relative_pos">
									<button class="options_button hover_black size_32 text_align_center circle">
										<img class="icon v_align_middle" src="assets/icons/dots-vertical_white.png">
									</button>
									<div class="hidden_options">
										<div class="bg_white pd_bottom_8 pd_top_8 shadow_flat border_radius font_normal">
											<a href="/perfil/{{ member.user.id }}">
												<p class="pd_8 pd_left_16 pd_right_16 hover_black">
													Ver
												</p>
											</a>
										</div>
									</div>
								</div>
							</div>
							<div class="profile_display mini">
								<div class="background bg_primary_dark">
									<div class="img_container" *ngIf="member.user.backPhoto != undefined && member.user.backPhoto != ''">
										<img src="/media/{{ member.user._id }}/background/{{ member.user.backPhoto }}" adjustable>
									</div>
									<div class="bg_opacity" *ngIf="member.user.backPhoto != undefined && member.user.backPhoto != ''"></div>
								</div>
								<div class="profile_photo font_white">
									<div class="inner">
										<a href="/perfil/{{ member.user.id }}">
											<div class="img_container circle shadow_flat">
												<img src="assets/icons/default_profile.png" *ngIf="member.user.profilePhoto == undefined || member.user.profilePhoto == ''">
												<img src="/media/{{ member.user._id }}/profile/{{ member.user.profilePhoto }}"*ngIf="member.user.profilePhoto != undefined && member.user.profilePhoto != ''">
											</div>
										</a>
									</div>
								</div>
							</div>
							<div class="info">
								<div class="pd_16">
									<h3 class="font_normal mr_bottom_4">
										{{ member.user.name }} {{ member.user.lastName }}
									</h3>
									<p class="opacity">
										<b class="font_normal">{{ member.user.mail }}</b>
									</p>
								</div>
							</div>
						</div>	
					</div>
				</div>
			</div>
		</div>
	</section>
</div>
